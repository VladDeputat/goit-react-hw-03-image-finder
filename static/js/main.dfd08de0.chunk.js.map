{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Button/Button.module.scss","servises/API.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","getImg","searchImg","query","page","axios","get","then","response","data","hits","Searchbar","state","onHandleChange","e","setState","target","value","onHandleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","largeImg","onClick","ImageGalleryItemImage","ImageGallery","items","map","item","webformatURL","id","largeImageURL","Spinner","loader","color","height","width","timeout","Button","Modal","hendleKeyDown","code","onClose","handleClick","currentTarget","window","addEventListener","removeEventListener","Overlay","App","images","isLoading","modalIsOpen","modalLargeImageURL","modalImgid","error","submitHandler","request","getItems","Api","res","prevState","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","url","closeModal","addPage","prevProps","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dfd08de0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3AbNr\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__oSPS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1oX-_\",\"Modal\":\"Modal_Modal__2_PXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1zrzW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3Uae2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ZiaG\"};","import axios from 'axios';\r\nconst KEY = '20734664-af4acccafc6bb35b2dfeb891d';\r\n\r\nconst searchImg = ({ query = '', page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\nconst getImg = { searchImg };\r\nexport default getImg;\r\n","import { Component } from 'react';\r\nimport styles from './Searchbar.module.scss';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  onHandleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  onHandleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            name=\"query\"\r\n            type=\"text\"\r\n            value={this.state.query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styles from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ src, alt, largeImg, onClick }) => {\r\n  const openModal = () => onClick(largeImg, alt);\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        className={styles.ImageGalleryItemImage}\r\n        onClick={openModal}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.number,\r\n  largeImg: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styles from './ImageGallery.module.scss';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ items, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {items.map(item => (\r\n        <ImageGalleryItem\r\n          src={item.webformatURL}\r\n          alt={item.id}\r\n          key={item.id}\r\n          largeImg={item.largeImageURL}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  src: PropTypes.string,\r\n  alt: PropTypes.number,\r\n  key: PropTypes.number,\r\n  largeImg: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.scss';\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={styles.loader}\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport styles from './Button.module.scss';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        onClick={this.props.onClick}\r\n        className={styles.Button}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport styles from './Modal.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  hendleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.src} alt={this.props.alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.number,\r\n};\r\n","import React, { Component } from 'react';\nimport 'modern-normalize/modern-normalize.css';\nimport Api from '../servises/API';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Loader from './Loader/Loader';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    modalIsOpen: false,\n    modalLargeImageURL: '',\n    modalImgid: '',\n    error: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query) {\n      this.setState({ images: [], page: 1, isLoading: true });\n      this.getItems();\n    }\n    if (this.state.page !== prevState.page) {\n      this.getItems();\n    }\n  }\n\n  submitHandler = request => {\n    this.setState({ query: request });\n  };\n\n  getItems = () => {\n    const { query, page } = this.state;\n    Api.searchImg({ query, page })\n      .then(res => {\n        this.setState(prevState => ({ images: [...prevState.images, ...res] }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        if (this.state.page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n\n  openModal = (url, id) => {\n    this.setState({\n      modalLargeImageURL: url,\n      modalImgid: id,\n      modalIsOpen: true,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      modalLargeImageURL: '',\n      modalImgid: '',\n      modalIsOpen: false,\n    });\n  };\n\n  addPage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      modalLargeImageURL,\n      modalImgid,\n      modalIsOpen,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.submitHandler} />\n        <ImageGallery items={this.state.images} onClick={this.openModal} />\n        {isLoading && <Loader />}\n        {images.length > 0 && <Button onClick={this.addPage} />}\n        {modalIsOpen && (\n          <Modal\n            src={modalLargeImageURL}\n            alt={modalImgid}\n            onClose={this.closeModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__YdA5S\",\"SearchForm\":\"Searchbar_SearchForm__MtWRr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__17DjU\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__i9vHU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__z2kYt\"};"],"sourceRoot":""}